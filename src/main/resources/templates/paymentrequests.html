<!DOCTYPE html>
<html

        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" xmlns:th="http://www.w3.org/1999/xhtml"
        layout:decorate="~{/layout.html}">
<head></head>
<body>
<div layout:fragment="contents">

    <section class="expenseList">
        <h2>Submit a payment request for the following expense</h2>
        <div style="display: flex">
            <div>
                <p>Date</p>
                <p>Description</p>
                <p>Amount</p>
            </div>
            <div style="padding-left:50%">
                <p id="expense_date" th:text="${expense.getDate}"></p>
                <p id="expense_description" th:text="${expense.getDescription}"></p>
                <p id="expense_amount" th:text="${expense.getAmount}"></p>
            </div>

        </div>

        <div>
            <table th:if="${#lists.size(payment_requests)!=0}">
                <!--                <p th:id="no_expenses" >You don't have any expenses!</p>-->

                <h3>Previous Payment Requests for this expense</h3>
                <tr>
                    <th >Who</th>
                    <th >Due</th>
                    <th >Paid?</th>
                    <th >How Much</th>

                </tr>
                <tr th:each ="request : ${payment_requests}">
                    <td th:text="${request.getPersonWhoShouldPayBack.getName}" th:id="${#strings.concat('paymentrequest_who_', request.getId)}">Who</td>
                    <td th:text="${request.getDueDate}" th:id="${#strings.concat('paymentrequest_date_', request.getId)}">Due</td>
                    <td th:id="${#strings.concat('paymentrequest_paid_', request.getId)}">
                        <span th:if="${request.isPaid}">Yes</span>
                        <span th:unless="${request.isPaid}">No</span>
                    </td>
                    <td th:text="${request.getAmountToPay}" th:id="${#strings.concat('paymentrequest_amount_', request.getId)}">How Much</td>

                </tr>
                <tr>
                    <td colspan="3">Total Amount of Payments Requested</td>
                    <td th:text="${netTotal}" id="total_paymentrequest">Total</td>
                </tr>
            </table>
        </div>



    </section>


    <section class="new_expenseList">
        <form method="post" action="/paymentrequest.action">
            <label>The email address of the person that you should pay</label>
            <input id="email" name = "email" type="text" placeholder="user@example.com">
            <label>The amount that you should pay(maximum 300.00!)</label>
            <input id="amount" name="amount" type="number"  step="10" placeholder="550">
            <label>By when must this claim be settled(dd/mm/yyyy)</label>
            <input id = "due_date" name ="due_date" type="date" placeholder="05/11/2010">
            <input id="submit" type="submit" value="Submit"/>
        </form>
    </section>

</div>
</body>

</html>