<!DOCTYPE html>
<html
        xmlns:th="http://www.thymeleaf.org"
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{/layout.html}">
<head></head>
<body>
<div layout:fragment="contents">
    <section class="expenseList">
        <h2>My Expenses</h2>
        <p> <a id="add_expense" href ="/newexpense" >Add a new expense</a></p>
        <p th:id="no_expenses" th:if="${#lists.isEmpty(expenses1)}">You don't have any expenses!</p>
    </section>
    <table >
        <!--                <p th:id="no_expenses" >You don't have any expenses!</p>-->

        <tr>
            <th>When</th>
            <th>What</th>
            <th>Amount Spent</th>
            <th>Payments Requested</th>
            <th>Payments Received</th>
            <th>Net Expenses</th>
        </tr>
        <tr th:each ="expense : ${expenses}">
            <td th:text="${expense.date}" th:id="${#strings.concat('date_', expense.id)}">Date</td>
            <td >  <a th:id="${#strings.concat('payment_request_', expense.id)}" th:text="${expense.description}"  th:href="@{'/paymentrequest?expenseId='+ ${expense.id}}"></a></td>
            <td th:text="${expense.amount}" th:id="${#strings.concat('amount_', expense.id)}">Amount Spent</td>
            <td th:text="${expense.totalAmountOfPaymentsRequested}" th:id="${#strings.concat('request_', expense.id)}">Payments Requested</td>
            <td th:text="${expense.totalAmountForPaymentsReceived}" th:id="${#strings.concat('received_', expense.id)}">Payments Received</td>
            <td th:text="${expense.amountLessPaymentsReceived}" th:id="${#strings.concat('nett_', expense.id)}">Net Expenses</td>
        </tr>
        <tr>
            <td colspan="5">Total Expenses</td>
            <td th:text="${netTotal}" id="grand_total">Total</td>
        </tr>
    </table>

</div>
</body>

</html>